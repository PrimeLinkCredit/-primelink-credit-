<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>PrimeLinkCredit | Loan Portal</title>
<style>
:root {
    --primary-navy: #1a2a3a;
    --accent-green: #27ae60;
    --white: #ffffff;
    --bg-light: #f4f7f6;
}
body { margin: 0; font-family: 'Segoe UI', Arial, sans-serif; background: var(--bg-light); color: #333; }
header { background: var(--primary-navy); padding: 25px; text-align: center; border-bottom: 4px solid var(--accent-green); }
header h1 { color: var(--white); margin: 0; font-size: 20px; letter-spacing: 1px; text-transform: uppercase; }

.container { max-width: 850px; margin: 20px auto 80px; padding: 0 15px; }

/* NAV TABS */
.nav-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 8px; margin-bottom: 20px; }
.nav-btn { padding: 12px; background: var(--primary-navy); color: white; border: none; border-radius: 6px; cursor: pointer; font-size: 11px; font-weight: bold; text-transform: uppercase; }

/* FORM CARD */
.card { background: var(--white); padding: 25px; border-radius: 12px; box-shadow: 0 8px 20px rgba(0,0,0,0.06); margin-bottom: 20px; text-align: center; display: none; }
.active-card { display: block; animation: fadeIn 0.4s ease; }
@keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }

.form-group { text-align: left; margin-bottom: 15px; }
label { font-weight: 700; font-size: 13px; display: block; margin-bottom: 5px; }
input, select { width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 8px; box-sizing: border-box; font-size: 14px; }

.btn { width: 100%; padding: 16px; border-radius: 8px; font-weight: bold; border: none; cursor: pointer; text-transform: uppercase; margin-top: 10px; }
.btn-green { background: var(--accent-green); color: white; }
.btn-navy { background: var(--primary-navy); color: white; }

.modal { display: none; position: fixed; z-index: 999; left: 0; top: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.7); backdrop-filter: blur(4px); }
.modal-box { background: white; width: 90%; max-width: 450px; margin: 10% auto; padding: 25px; border-radius: 12px; position: relative; }
.close-btn { position: absolute; right: 15px; top: 10px; font-size: 24px; cursor: pointer; }

/* TABLE */
table { width: 100%; border-collapse: collapse; margin-top: 10px; }
th, td { padding: 8px; border: 1px solid #ddd; font-size: 13px; }

/* TICKER */
#ticker { position: fixed; bottom: 20px; left: 20px; background: white; padding: 12px; border-radius: 8px; border-left: 4px solid var(--accent-green); box-shadow: 0 4px 15px rgba(0,0,0,0.1); display: none; z-index: 1000; font-size: 12px; }
</style>
</head>
<body>

<header><h1>PrimeLinkCredit</h1></header>

<div class="container">
    <div class="nav-grid">
        <button class="nav-btn" onclick="openModal('aboutM')">‚ÑπÔ∏è About Us</button>
        <button class="nav-btn" onclick="openModal('supportM')">üéß Support</button>
        <button class="nav-btn" onclick="openModal('adminM')">üë§ Admin Dashboard</button>
    </div>

    <!-- Step 1: Document Verification -->
    <div id="p1" class="card active-card">
        <h2>Security Pre-Verification</h2>
        <p>Documents must be emailed before accessing the loan form.</p>
        <p>Email <strong>ID, Selfie & Statement</strong> to:<br><strong style="color:var(--accent-green)">PrimeLinkCredit@gmail.com</strong></p>
        <label style="cursor:pointer;"><input type="checkbox" id="docCheck"> I have already emailed my documents.</label>
        <button class="btn btn-navy" onclick="unlock()">Access Application</button>
    </div>

    <!-- Step 2: Loan Application -->
    <div id="p2" class="card">
        <h2>Official Loan Application</h2>
        <div class="form-group">
            <label>Select Country</label>
            <select id="countrySelect" onchange="updateCurrency()">
                <option value="KES" data-fee="1050" selected>üá∞üá™ Kenya (KES)</option>
                <option value="UGX" data-fee="20000">üá∫üá¨ Uganda (UGX)</option>
                <option value="TZS" data-fee="15000">üáπüáø Tanzania (TZS)</option>
                <option value="ZMW" data-fee="150">üáøüá≤ Zambia (ZMW)</option>
                <option value="NGN" data-fee="7500">üá≥üá¨ Nigeria (NGN)</option>
                <!-- Add other countries here -->
            </select>
        </div>
        <div class="form-group"><label>Full Name</label><input type="text" id="uName"></div>
        <div class="form-group"><label>Loan Amount</label><input type="number" id="lAmt"></div>
        <div class="form-group">
            <label>Repayment Type</label>
            <select id="pType" onchange="updateDur()">
                <option value="monthly">Monthly Plan (3% Interest)</option>
                <option value="yearly">Yearly Plan (9% Interest)</option>
            </select>
        </div>
        <div class="form-group" id="durContainer"><label>Duration (Months)</label><input type="number" id="lDur" value="6"></div>

        <button class="btn btn-green" onclick="calcRepayment()">View Installments</button>
        <div id="repayForm" style="display:none; margin-top:10px;"></div>

        <button class="btn btn-navy" onclick="chatApplication()">Apply via WhatsApp</button>
    </div>
</div>

<!-- MODALS -->
<div id="aboutM" class="modal"><div class="modal-box"><span class="close-btn" onclick="closeM('aboutM')">&times;</span>
<h2>About Us</h2><p>PrimeLinkCredit provides secure digital loans across Africa and selected international countries. All applications are verified before approval.</p>
</div></div>

<div id="supportM" class="modal"><div class="modal-box"><span class="close-btn" onclick="closeM('supportM')">&times;</span>
<h2>Support / Raise Ticket</h2>
<label>Your Name</label><input type="text" id="ticketName">
<label>Issue</label><input type="text" id="ticketIssue">
<button class="btn btn-green" onclick="raiseTicket()">Submit Ticket</button>
</div></div>

<div id="adminM" class="modal"><div class="modal-box"><span class="close-btn" onclick="closeM('adminM')">&times;</span>
<h2>Admin Dashboard Login</h2>
<label>Password</label><input type="password" id="adminPass">
<button class="btn btn-navy" onclick="adminLogin()">Login</button>

<div id="adminPanel" style="display:none; margin-top:15px;">
<h3>Submitted Applications</h3>
<table id="appTable"><tr><th>Name</th><th>Country</th><th>Amount</th><th>Duration</th></tr></table>
<h3>Support Tickets</h3>
<table id="ticketTable"><tr><th>Name</th><th>Issue</th></tr></table>
</div>
</div></div>

<div id="ticker"></div>

<script>
let applications = [];
let tickets = [];
const adminPassword = "Sirma@3547";

function unlock(){
    if(document.getElementById('docCheck').checked){
        document.getElementById('p1').classList.remove('active-card');
        document.getElementById('p2').classList.add('active-card');
    } else alert("Please confirm you have emailed your documents.");
}

function updateCurrency(){
    const s = document.getElementById('countrySelect');
    const opt = s.options[s.selectedIndex];
}

function updateDur(){
    const type = document.getElementById('pType').value;
    document.getElementById('durContainer').innerHTML = `<label>Duration (${type === 'monthly' ? 'Months' : 'Years'})</label><input type="number" id="lDur" value="${type==='monthly'?6:1}">`;
}

function calcRepayment(){
    const amt = parseFloat(document.getElementById('lAmt').value);
    const type = document.getElementById('pType').value;
    const dur = parseInt(document.getElementById('lDur').value);
    if(!amt||!dur) return alert("Fill Loan Details");
    const rate = type==='monthly'?0.03:0.09;
    const total = amt + (amt*rate*dur);
    const installment = total / (type==='monthly'? dur: dur*12);
    document.getElementById('repayForm').innerHTML=`<table>
        <tr><th>Total Repayment</th><td>${total.toFixed(2)}</td></tr>
        <tr><th>Installment Cost</th><td>${installment.toFixed(2)} /mo</td></tr>
    </table>`;
    document.getElementById('repayForm').style.display='block';
}

function chatApplication(){
    const name = document.getElementById('uName').value;
    const country = document.getElementById('countrySelect').options[document.getElementById('countrySelect').selectedIndex].text;
    const amt = document.getElementById('lAmt').value;
    const type = document.getElementById('pType').value;
    const dur = document.getElementById('lDur').value;
    if(!name||!amt||!dur) return alert("Fill all details");

    const msg = `Hello PrimeLinkCredit,%0AName: ${name}%0ACountry: ${country}%0ALoan Amount: ${amt}%0ALoan Duration: ${dur} ${type==='monthly'?'Months':'Years'}`;
    window.open(`https://wa.me/254101965027?text=${msg}`,'_blank');

    // Store application locally
    applications.push({name,country,amt,dur});
}

function openModal(id){document.getElementById(id).style.display='block';}
function closeM(id){document.getElementById(id).style.display='none';}

function raiseTicket(){
    const name = document.getElementById('ticketName').value;
    const issue = document.getElementById('ticketIssue').value;
    if(!name||!issue) return alert("Fill all fields");
    tickets.push({name,issue});
    alert("Ticket submitted!");
    document.getElementById('ticketName').value=''; document.getElementById('ticketIssue').value='';
}

function adminLogin(){
    const pass = document.getElementById('adminPass').value;
    if(pass===adminPassword){
        document.getElementById('adminPanel').style.display='block';
        updateAdminTables();
    } else alert("Wrong Password");
}

function updateAdminTables(){
    const appTable = document.getElementById('appTable');
    appTable.innerHTML=`<tr><th>Name</th><th>Country</th><th>Amount</th><th>Duration</th></tr>`;
    applications.forEach(a=>{appTable.innerHTML+=`<tr><td>${a.name}</td><td>${a.country}</td><td>${a.amt}</td><td>${a.dur}</td></tr>`;});
    
    const ticketTable = document.getElementById('ticketTable');
    ticketTable.innerHTML=`<tr><th>Name</th><th>Issue</th></tr>`;
    tickets.forEach(t=>{ticketTable.innerHTML+=`<tr><td>${t.name}</td><td>${t.issue}</td></tr>`;});
}

// Scrolling ticker
setInterval(()=>{
    if(applications.length>0){
        const idx = Math.floor(Math.random()*applications.length);
        const t = document.getElementById('ticker');
        t.innerHTML=`üí∏ <strong>${applications[idx].name}</strong> from ${applications[idx].country} received funds!`;
        t.style.display='block';
        setTimeout(()=>{t.style.display='none';},4000);
    }
}, 10000);
</script>

</body>
</html>
