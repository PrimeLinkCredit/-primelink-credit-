<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>PrimeLink Credit</title>
<style>
  body { font-family: Arial, sans-serif; background:#f4f4f9; margin:0; padding:0; }
  header { text-align:center; padding:20px; background:#0b3c5d; color:#fff; }
  header img { width:120px; opacity:0.8; filter:blur(1px); display:block; margin:auto; }
  h1 { margin:10px 0 5px; }
  p.subtitle { margin:0; font-size:1em; }
  .container { max-width:900px; margin:20px auto; padding:10px; background:#fff; border-radius:8px; box-shadow:0 2px 8px rgba(0,0,0,0.1); }
  form { display:grid; grid-gap:12px; }
  label { font-weight:bold; }
  input, select, button { padding:8px; border-radius:6px; border:1px solid #ccc; font-size:1em; }
  button { background:#0b3c5d; color:#fff; border:none; cursor:pointer; }
  button:disabled { background:#999; cursor:not-allowed; }
  #loadingMessage { display:none; color:#0b3c5d; text-align:center; font-weight:bold; margin-top:10px; }
  #borrowerActivity { max-height:300px; overflow-y:auto; background:#f9f9f9; padding:10px; border-radius:8px; margin-top:20px; }
  .activity { background:#e0f7fa; margin:5px 0; padding:8px 10px; border-radius:6px; box-shadow:0 2px 4px rgba(0,0,0,0.1); animation:slideIn 0.5s ease forwards; }
  @keyframes slideIn { from {opacity:0; transform: translateX(-20px);} to {opacity:1; transform: translateX(0);} }
  #reviews { margin-top:20px; }
  .review { background:#fff3cd; margin:5px 0; padding:8px 10px; border-radius:6px; }
  footer { text-align:center; padding:20px; margin-top:20px; background:#0b3c5d; color:#fff; }
  a { color:#0b3c5d; text-decoration:none; font-weight:bold; }
</style>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/17.0.19/css/intlTelInput.min.css"/>
</head>
<body>

<header>
  <img src="logo.png" alt="PrimeLink Credit Logo">
  <h1>PrimeLink Credit</h1>
  <p class="subtitle">Short-Term Loan Facilitation Services</p>
</header>

<div class="container">
  <p style="color:#0b3c5d; font-weight:bold;">
    üìÑ Please send your required document(s) to 
    <a href="mailto:PrimeLinkCredit@gmail.com">PrimeLinkCredit@gmail.com</a> 
    before applying for a loan.
  </p>

  <form id="loanForm">
    <label for="fname">First Name:</label>
    <input type="text" id="fname" required>

    <label for="sname">Second Name (optional):</label>
    <input type="text" id="sname">

    <label for="country">Country:</label>
    <input type="text" id="country" list="countries" placeholder="Search country..." required>
    <datalist id="countries">
      <!-- Africa + 10 International -->
      <option value="Kenya" data-currency="KES">Kenya</option>
      <option value="Uganda" data-currency="UGX">Uganda</option>
      <option value="Tanzania" data-currency="TZS">Tanzania</option>
      <option value="Zambia" data-currency="ZMW">Zambia</option>
      <option value="Nigeria" data-currency="NGN">Nigeria</option>
      <option value="South Africa" data-currency="ZAR">South Africa</option>
      <option value="Ghana" data-currency="GHS">Ghana</option>
      <option value="Egypt" data-currency="EGP">Egypt</option>
      <option value="USA" data-currency="USD">USA</option>
      <option value="UK" data-currency="GBP">UK</option>
      <option value="Canada" data-currency="CAD">Canada</option>
      <option value="Australia" data-currency="AUD">Australia</option>
      <option value="Germany" data-currency="EUR">Germany</option>
      <option value="France" data-currency="EUR">France</option>
      <option value="India" data-currency="INR">India</option>
      <option value="China" data-currency="CNY">China</option>
      <option value="Japan" data-currency="JPY">Japan</option>
      <option value="UAE" data-currency="AED">UAE</option>
    </datalist>

    <label for="whatsapp">WhatsApp Number:</label>
    <input type="tel" id="whatsapp" placeholder="Enter WhatsApp Number" required>

    <label for="amount">Loan Amount:</label>
    <div style="display:flex; gap:5px;">
      <span id="currencySymbol">KES</span>
      <input type="number" id="amount" placeholder="Enter amount" required style="flex:1;">
    </div>

    <label for="duration">Loan Duration (days):</label>
    <input type="number" id="duration" value="30" required>

    <label for="loanType">Loan Type:</label>
    <select id="loanType">
      <option value="Personal">Personal Loan</option>
      <option value="Business">Business Loan</option>
    </select>

    <label for="idType">ID Type:</label>
    <select id="idType">
      <option value="National ID">National ID</option>
      <option value="Passport">Passport</option>
      <option value="Driving License">Driving License</option>
    </select>

    <input type="checkbox" id="docsSent" required>
    <label for="docsSent">I have sent my document(s) to <a href="mailto:PrimeLinkCredit@gmail.com">PrimeLinkCredit@gmail.com</a></label>

    <button type="submit" id="applyBtn" disabled>Apply via WhatsApp</button>
  </form>

  <div id="loadingMessage">‚è≥ Please wait‚Ä¶ do not refresh the page</div>

  <div id="borrowerActivity"></div>

  <div id="reviews">
    <h3>Customer Reviews</h3>
    <div class="review">"Process was clear and simple."</div>
    <div class="review">"Customer support responded fast."</div>
    <div class="review">"Very professional communication."</div>
    <div class="review">"Some delays in feedback, but application went through."</div>
  </div>
</div>

<footer>
  üìß <a href="mailto:PrimeLinkCredit@gmail.com">PrimeLinkCredit@gmail.com</a> | 
  üìò <a href="https://www.facebook.com/profile.php?id=61585614873187" target="_blank">Facebook Page</a>
</footer>

<script src="https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/17.0.19/js/intlTelInput.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/17.0.19/js/utils.js"></script>
<script>
  // Initialize WhatsApp input with intl-tel-input
  const whatsappInput = document.getElementById("whatsapp");
  const iti = window.intlTelInput(whatsappInput, {
    initialCountry: "auto",
    geoIpLookup: function(callback) {
      fetch('https://ipapi.co/json/')
        .then(res => res.json())
        .then(data => callback(data.country_code))
        .catch(() => callback('KE'));
    },
    utilsScript: "https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/17.0.19/js/utils.js"
  });

  const countryInput = document.getElementById("country");
  const currencySymbol = document.getElementById("currencySymbol");
  const dataList = document.getElementById("countries");

  // Auto-detect country from WhatsApp
  whatsappInput.addEventListener("blur", () => {
    const countryData = iti.getSelectedCountryData();
    const countryName = countryData.name;
    const option = Array.from(dataList.options).find(o => o.value.toLowerCase() === countryName.toLowerCase());
    if(option){
      countryInput.value = option.value;
      currencySymbol.textContent = option.dataset.currency;
    }
  });

  // Country input updates currency
  countryInput.addEventListener("input", () => {
    const val = countryInput.value;
    const option = Array.from(dataList.options).find(o => o.value.toLowerCase() === val.toLowerCase());
    if(option) currencySymbol.textContent = option.dataset.currency;
  });

  // Enable Apply button only if documents sent
  const checkbox = document.getElementById("docsSent");
  const applyBtn = document.getElementById("applyBtn");
  checkbox.addEventListener("change", function() {
    applyBtn.disabled = !this.checked;
  });

  // Borrower pop-ups example (expand to 50)
  const activities = [
    {name:"Victor S.", country:"Kenya", flag:"üá∞üá™", currency:"KES", amount:15000, whatsapp:"+2547***1234", time:"5 minutes ago"},
    {name:"Linda M.", country:"USA", flag:"üá∫üá∏", currency:"USD", amount:500, whatsapp:"+1***5678", time:"10 minutes ago"},
    {name:"Mohamed K.", country:"Tanzania", flag:"üáπüáø", currency:"TZS", amount:300000, whatsapp:"+2557***1234", time:"15 minutes ago"},
    {name:"James O.", country:"Uganda", flag:"üá∫üá¨", currency:"UGX", amount:200000, whatsapp:"+2567***890", time:"20 minutes ago"},
    {name:"Fatima A.", country:"Nigeria", flag:"üá≥üá¨", currency:"NGN", amount:50000, whatsapp:"+2348***567", time:"25 minutes ago"},
  ];
  const activityContainer = document.getElementById("borrowerActivity");
  activities.forEach((act, i) => {
    setTimeout(() => {
      const div = document.createElement("div");
      div.className = "activity";
      div.innerHTML = `üìå ${act.name} ${act.flag} ${act.country} ‚úÖ borrowed ${act.currency} ${act.amount} (WhatsApp: ${act.whatsapp}) ‚è± ${act.time}`;
      activityContainer.appendChild(div);
    }, i*1500);
  });

  // WhatsApp submission
  const form = document.getElementById("loanForm");
  form.addEventListener("submit", function(e){
    e.preventDefault();
    document.getElementById("loadingMessage").style.display = "block";

    const fname = document.getElementById("fname").value;
    const sname = document.getElementById("sname").value;
    const country = document.getElementById("country").value;
    const amount = document.getElementById("amount").value;
    const duration = document.getElementById("duration").value;
    const loanType = document.getElementById("loanType").value;
    const idType = document.getElementById("idType").value;
    const currency = currencySymbol.textContent;
    const ref = "PL-" + Math.floor(Math.random()*100000);

    const msg = `üìÑ PrimeLink Credit Loan Application

üë§ Applicant Name: ${fname} ${sname}
üåç Country: ${country}
üí¨ WhatsApp Number: ${whatsappInput.value}
üí∞ Loan Amount: ${currency} ${amount}
‚è± Loan Duration: ${duration} days
üè¶ Loan Type: ${loanType}
üÜî ID Type: ${idType}
üìÑ Documents Submitted: Yes
üÜî Reference No: ${ref}

Thank you for your application. Our team will review and contact you shortly.`;

    setTimeout(() => {
      window.open("https://wa.me/254101965027?text=" + encodeURIComponent(msg), "_blank");
      document.getElementById("loadingMessage").style.display = "none";
    }, 1000);
  });
</script>
</body>
</html>
